**Yêu Cầu Phi Chức Năng**

| Mã  | Tên yêu cầu            | Mục tiêu                                  | Bằng chứng/Hiện trạng                                                                                                                            | Gợi ý/Cải tiến                                                                                                                       |
| --- | ---------------------- | ----------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------ | ------------------------------------------------------------------------------------------------------------------------------------ |
| N01 | Hiệu năng tải trang    | Tối ưu tốc độ cảm nhận khi tải            | Có skeleton: `src/app/components/HomePageSkeleton.tsx`, `src/app/components/SinglePostSkeleton.tsx`, `src/app/components/AuthorPageSkeleton.tsx` | Cân nhắc SSR/Server Components cho trang chính và bài viết; dùng `revalidate`/cache Supabase; phân trang/vô hạn; Suspense/streaming. |
| N02 | SEO                    | Nội dung có thể lập chỉ mục tốt           | Hiện phần lớn dữ liệu lấy ở client → HTML ban đầu rỗng nội dung                                                                                  | Chuyển sang fetch ở server, bổ sung `metadata`, OG tags, `sitemap.xml`, `robots.txt`, dữ liệu cấu trúc (JSON‑LD).                    |
| N03 | Truy cập (A11y)        | Dễ dùng bằng bàn phím, trình đọc màn hình | UI dựa trên Radix và component tùy biến                                                                                                          | Bổ sung nhãn `aria-*`, tiêu đề ảnh (alt), trạng thái focus rõ ràng, kiểm tra tương phản màu.                                         |
| N04 | Bảo mật dữ liệu        | Bảo vệ khóa và dữ liệu người dùng         | Supabase client dùng ANON KEY: `src/utils/supabase/client.ts`                                                                                    | Đảm bảo RLS trên bảng, không lộ service key; xác thực/giới hạn tốc độ khi thêm like/bình luận/newsletter; thêm CSP headers.          |
| N05 | Tính ổn định/khả dụng  | Ứng dụng phản hồi tốt khi lỗi mạng        | Có toast thông báo; ít nhánh xử lý lỗi                                                                                                           | Thêm retry/backoff, Error Boundaries, trạng thái lỗi rõ ràng cho từng khối (feed, tags, related).                                    |
| N06 | Khả năng bảo trì       | Dễ mở rộng và refactor                    | DTO/model tách riêng, service Supabase tập trung                                                                                                 | Chuẩn hóa schema kiểu với Zod, trích riêng constants, thêm ESLint/Prettier, đặt alias đường dẫn nhất quán, tách hook dữ liệu.        |
| N07 | Giám sát/Logging       | Theo dõi lỗi và hành vi                   | Dùng `console.error` cục bộ                                                                                                                      | Tích hợp Sentry/LogRocket, mã lỗi chuẩn, theo dõi hiệu năng (Web Vitals) và cảnh báo.                                                |
| N08 | Cấu hình môi trường    | Dễ cấu hình và kiểm tra                   | Dùng `.env.local` cho Supabase                                                                                                                   | Thêm `env.example`, kiểm tra biến môi trường runtime (Zod), tách config cho dev/prod.                                                |
| N09 | Trải nghiệm người dùng | Trải nghiệm mượt, phản hồi nhanh          | Skeleton, toast, điều hướng mượt                                                                                                                 | Thêm empty‑state, loading cho Tabs, chuyển trang có progress bar (nprogress), lưu bộ nhớ lọc.                                        |
| N10 | Khả năng mở rộng       | Chịu tải và dễ scale                      | Kiến trúc component tách rời                                                                                                                     | Thêm phân trang/virtualize danh sách, code‑splitting, tối ưu ảnh (Next/Image), CDN, index DB hợp lý.                                 |
| N11 | Responsive/Đa thiết bị | Hiển thị tốt trên mobile/desktop          | Tailwind grid/breakpoints đã dùng                                                                                                                | Kiểm thử breakpoints chính, thêm menu di động (drawer), tối ưu kích thước ảnh theo viewport.                                         |
| N12 | Quốc tế hóa (i18n)     | Hỗ trợ đa ngôn ngữ                        | Chưa có i18n                                                                                                                                     | Cân nhắc `next-intl`/`next-i18next`, tách copy ra file dịch, định dạng ngày/giờ theo locale.                                         |
